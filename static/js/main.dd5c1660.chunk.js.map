{"version":3,"sources":["Die.js","Dice.js","RuleRow.js","data/descriptions.js","Rules.js","ScoreTable.js","Game.js","App.js","index.js"],"names":["Die","props","toggleLock","bind","this","handleToggleLock","idx","diceMap","Map","die","className","get","val","locked","isRolling","onClick","Component","Dice","dices","dice","map","d","RuleRow","handleRuleLock","doScore","isLocked","name","score","descriptions","defaultProps","Rule","params","Object","assign","reduce","prev","curr","freqs","set","Array","from","values","filter","length","TotalOneNumber","evalRoll","count","SumDistro","freq","some","c","sum","FullHouse","forEach","n","has","mapIter","isValid","next","done","value","SmallStraight","Set","validStraights","size","LargeStraight","Yahtzee","ones","twos","threes","fours","fives","sixes","threeOfKind","fourOfKind","fullHouse","smallStraight","largeStraight","yahtzee","chance","ScoreTable","scores","lockedRules","cellSpacing","evt","Game","state","fill","rollsLeft","undefined","roll","toggleLocked","ruleLocked","setState","st","setTimeout","i","Math","ceil","random","slice","rulename","ruleFn","disabled","every","x","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd5c1660.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Die.css';\n\nclass Die extends Component {\n  constructor(props) {\n    super(props);\n    this.toggleLock = this.toggleLock.bind(this);\n  }\n  toggleLock() {\n    this.props.handleToggleLock(this.props.idx);\n  }\n\n  render() {\n    //depending on value create an element and assign it fas-dice-one / dice-two etc.\n    const diceMap = new Map([\n      [1, 'one'],\n      [2, 'two'],\n      [3, 'three'],\n      [4, 'four'],\n      [5, 'five'],\n      [6, 'six'],\n    ]);\n\n    const die = (\n      <i\n        className={`fas fa-dice-${diceMap.get(this.props.val)} ${\n          this.props.locked ? 'Die-locked' : 'Die'\n        } ${this.props.isRolling && !this.props.locked ? 'Die-rolling' : ''}`}\n        onClick={this.toggleLock}\n      ></i>\n    );\n    return <>{die}</>;\n  }\n}\n\nexport default Die;\n","import React, { Component } from 'react';\nimport Die from './Die';\nimport './Dice.css';\n\nclass Dice extends Component {\n  render() {\n    const dices = this.props.dice.map((d, idx) => (\n      <Die\n        handleToggleLock={this.props.handleToggleLock}\n        val={d}\n        isRolling={this.props.isRolling}\n        locked={this.props.locked[idx]}\n        idx={idx}\n        key={idx}\n      />\n    ));\n    return <div className=\"Dice\">{dices}</div>;\n  }\n}\n\nexport default Dice;\n","import React, { Component } from 'react';\nimport { descriptions } from './data/descriptions';\nimport './RuleRow.css';\n\nclass RuleRow extends Component {\n  static defaultProps = { descriptions: descriptions };\n  constructor(props) {\n    super(props);\n    this.handleRuleLock = this.handleRuleLock.bind(this);\n  }\n  handleRuleLock() {\n    this.props.doScore();\n    this.props.handleRuleLock(this.props.idx);\n  }\n  render() {\n    return (\n      <tr\n        className={\n          this.props.isLocked ? 'RuleRow-disabled' : 'RuleRow RuleRow-active'\n        }\n        onClick={this.handleRuleLock}\n      >\n        <td className=\"RuleRow-name\">{this.props.name}</td>\n        {/* Display description for rule, then ONCE LOCKED display score*/}\n        <td className=\"RuleRow-score\">\n          {this.props.isLocked\n            ? this.props.score\n            : this.props.descriptions[this.props.idx]}\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default RuleRow;\n","const descriptions = [\n  'Ones: Get as many ones as possible.',\n  'Twos: Get as many twos as possible.',\n  'Threes: Get as many threes as possible.',\n  'Fours: Get as many fours as possible.',\n  'Fives: Get as many fives as possible.',\n  'Sixes: Get as many sixes as possible.',\n  'Three of a kind: Get three dice with the same number.',\n  'Four of a kind: Get four dice with the same number.',\n  'Full house: Get three of a kind and a pair, Scores 25 points.',\n  'Small straight: Get four sequential dice, Scores 30 points.',\n  'Large straight: Get five sequential dice, Scores 40 points.',\n  'YAHTZEE: Five of a kind. Scores 50 points.',\n  'Chance: The score is simply the sum of the dice.',\n];\n\nexport { descriptions };\n","/** Rule for Yahtzee scoring.\n *\n * This is an \"abstract class\"; the real rules are subclasses of these.\n * This stores all parameters passed into it as properties on the instance\n * (to simplify child classes so they don't need constructors of their own).\n *\n * It contains useful functions for summing, counting values, and counting\n * frequencies of dice. These are used by subclassed rules.\n */\n\nclass Rule {\n  constructor(params) {\n    // put all properties in params on instance\n    Object.assign(this, params);\n  }\n\n  sum(dice) {\n    // sum of all dice\n    return dice.reduce((prev, curr) => prev + curr);\n  }\n\n  freq(dice) {\n    // frequencies of dice values\n    const freqs = new Map();\n    for (const d of dice) freqs.set(d, (freqs.get(d) || 0) + 1);\n    return Array.from(freqs.values());\n  }\n\n  count(dice, val) {\n    // # times val appears in dice\n    return dice.filter((d) => d === val).length;\n  }\n}\n\n/** Given a sought-for val, return sum of dice of that val.\n *\n * Used for rules like \"sum of all ones\"\n */\n\nclass TotalOneNumber extends Rule {\n  evalRoll = (dice) => {\n    return this.val * this.count(dice, this.val);\n  };\n}\n\n/** Given a required # of same dice, return sum of all dice.\n *\n * Used for rules like \"sum of all dice when there is a 3-of-kind\"\n */\n\nclass SumDistro extends Rule {\n  evalRoll = (dice) => {\n    // do any of the counts meet of exceed this distro?\n    return this.freq(dice).some((c) => c >= this.count) ? this.sum(dice) : 0;\n  };\n}\n\n/** Check if full house (3-of-kind and 2-of-kind) */\n\nclass FullHouse extends Rule {\n  evalRoll = (dice) => {\n    const map = new Map();\n\n    dice.forEach((n) => {\n      if (map.has(n)) {\n        map.set(n, map.get(n) + 1);\n      } else {\n        map.set(n, 1);\n      }\n    });\n\n    const mapIter = map.values();\n    let isValid = mapIter.next();\n\n    while (!isValid.done) {\n      if (2 <= isValid.value && isValid.value <= 3) {\n        isValid = mapIter.next();\n      } else {\n        break;\n      }\n    }\n\n    //rule set will put in\n    return isValid.done ? this.score : 0;\n  };\n}\n\n/** Check for small straights. */\n\nclass SmallStraight extends Rule {\n  evalRoll = (dice) => {\n    const d = new Set(dice);\n    const validStraights = [\n      d.size >= 4 && d.has(1) && d.has(2) && d.has(3) && d.has(4),\n      d.size >= 4 && d.has(2) && d.has(3) && d.has(4) && d.has(5),\n      d.size >= 4 && d.has(3) && d.has(4) && d.has(5) && d.has(6),\n    ];\n\n    //small straight must be at least 4 different dice and in sequential order (1,2,3,4 OR 2,3,4,5 OR 3,4,5,6)\n    return validStraights[0] || validStraights[1] || validStraights[2]\n      ? this.score\n      : 0;\n  };\n}\n\n/** Check for large straights. */\n\nclass LargeStraight extends Rule {\n  evalRoll = (dice) => {\n    const d = new Set(dice);\n\n    // large straight must be 5 different dice & only one can be a 1 or a 6\n    return d.size === 5 && (!d.has(1) || !d.has(6)) ? this.score : 0;\n  };\n}\n\n/** Check if all dice are same. */\n\nclass Yahtzee extends Rule {\n  evalRoll = (dice) => {\n    // all dice must be the same\n    return this.freq(dice)[0] === 5 ? this.score : 0;\n  };\n}\n\n// ones, twos, etc score as sum of that value\nconst ones = new TotalOneNumber({ val: 1 });\nconst twos = new TotalOneNumber({ val: 2 });\nconst threes = new TotalOneNumber({ val: 3 });\nconst fours = new TotalOneNumber({ val: 4 });\nconst fives = new TotalOneNumber({ val: 5 });\nconst sixes = new TotalOneNumber({ val: 6 });\n\n// three/four of kind score as sum of all dice\nconst threeOfKind = new SumDistro({ count: 3 });\nconst fourOfKind = new SumDistro({ count: 4 });\n\n// full house scores as flat 25\nconst fullHouse = new FullHouse({ score: 25 });\n\n// small/large straights score as 30/40\nconst smallStraight = new SmallStraight({ score: 30 });\nconst largeStraight = new LargeStraight({ score: 40 });\n\n// yahtzee scores as 50\nconst yahtzee = new Yahtzee({ score: 50 });\n\n// for chance, can view as some of all dice, requiring at least 0 of a kind\nconst chance = new SumDistro({ count: 0 });\n\nexport {\n  ones,\n  twos,\n  threes,\n  fours,\n  fives,\n  sixes,\n  threeOfKind,\n  fourOfKind,\n  fullHouse,\n  smallStraight,\n  largeStraight,\n  yahtzee,\n  chance,\n};\n","import React, { Component } from 'react';\nimport RuleRow from './RuleRow';\nimport './ScoreTable.css';\nimport {\n  ones,\n  twos,\n  threes,\n  fours,\n  fives,\n  sixes,\n  threeOfKind,\n  fourOfKind,\n  fullHouse,\n  smallStraight,\n  largeStraight,\n  yahtzee,\n  chance,\n} from './Rules';\n\nclass ScoreTable extends Component {\n  render() {\n    const { scores, doScore, lockedRules } = this.props;\n\n    return (\n      <div className=\"ScoreTable\">\n        <section className=\"ScoreTable-section\">\n          <h2>Upper</h2>\n          <table cellSpacing=\"0\">\n            <tbody>\n              <RuleRow\n                name=\"Ones\"\n                score={scores.ones}\n                doScore={(evt) => doScore('ones', ones.evalRoll, 0)}\n                isLocked={lockedRules[0]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={0}\n              />\n              <RuleRow\n                name=\"Twos\"\n                score={scores.twos}\n                doScore={(evt) => doScore('twos', twos.evalRoll, 1)}\n                isLocked={lockedRules[1]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={1}\n              />\n              <RuleRow\n                name=\"Threes\"\n                score={scores.threes}\n                doScore={(evt) => doScore('threes', threes.evalRoll, 2)}\n                isLocked={lockedRules[2]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={2}\n              />\n              <RuleRow\n                name=\"Fours\"\n                score={scores.fours}\n                doScore={(evt) => doScore('fours', fours.evalRoll, 3)}\n                isLocked={lockedRules[3]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={3}\n              />\n              <RuleRow\n                name=\"Fives\"\n                score={scores.fives}\n                doScore={(evt) => doScore('fives', fives.evalRoll, 4)}\n                isLocked={lockedRules[4]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={4}\n              />\n              <RuleRow\n                name=\"Sixes\"\n                score={scores.sixes}\n                doScore={(evt) => doScore('sixes', sixes.evalRoll, 5)}\n                isLocked={lockedRules[5]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={5}\n              />\n            </tbody>\n          </table>\n        </section>\n        <section className=\"ScoreTable-section ScoreTable-section-lower\">\n          <h2>Lower</h2>\n          <table cellSpacing=\"0\">\n            <tbody>\n              <RuleRow\n                name=\"Three of Kind\"\n                score={scores.threeOfKind}\n                doScore={(evt) =>\n                  doScore('threeOfKind', threeOfKind.evalRoll, 6)\n                }\n                isLocked={lockedRules[6]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={6}\n              />\n              <RuleRow\n                name=\"Four of Kind\"\n                score={scores.fourOfKind}\n                doScore={(evt) => doScore('fourOfKind', fourOfKind.evalRoll, 7)}\n                isLocked={lockedRules[7]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={7}\n              />\n              <RuleRow\n                name=\"Full House\"\n                score={scores.fullHouse}\n                doScore={(evt) => doScore('fullHouse', fullHouse.evalRoll, 8)}\n                isLocked={lockedRules[8]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={8}\n              />\n              <RuleRow\n                name=\"Small Straight\"\n                score={scores.smallStraight}\n                doScore={(evt) =>\n                  doScore('smallStraight', smallStraight.evalRoll, 9)\n                }\n                isLocked={lockedRules[9]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={9}\n              />\n              <RuleRow\n                name=\"Large Straight\"\n                score={scores.largeStraight}\n                doScore={(evt) =>\n                  doScore('largeStraight', largeStraight.evalRoll, 10)\n                }\n                isLocked={lockedRules[10]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={10}\n              />\n              <RuleRow\n                name=\"Yahtzee\"\n                score={scores.yahtzee}\n                doScore={(evt) => doScore('yahtzee', yahtzee.evalRoll, 11)}\n                isLocked={lockedRules[11]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={11}\n              />\n              <RuleRow\n                name=\"Chance\"\n                score={scores.chance}\n                doScore={(evt) => doScore('chance', chance.evalRoll, 12)}\n                isLocked={lockedRules[12]}\n                handleRuleLock={this.props.handleRuleLock}\n                idx={12}\n              />\n            </tbody>\n          </table>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default ScoreTable;\n","import React, { Component } from 'react';\nimport Dice from './Dice';\nimport ScoreTable from './ScoreTable';\nimport './Game.css';\n\nconst NUM_DICE = 5;\nconst NUM_ROLLS = 3;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dice: Array.from({ length: NUM_DICE }),\n      locked: Array(NUM_DICE).fill(false),\n      lockedRules: Array(13).fill(false),\n      rollsLeft: NUM_ROLLS,\n      isRolling: false,\n      scores: {\n        ones: undefined,\n        twos: undefined,\n        threes: undefined,\n        fours: undefined,\n        fives: undefined,\n        sixes: undefined,\n        threeOfKind: undefined,\n        fourOfKind: undefined,\n        fullHouse: undefined,\n        smallStraight: undefined,\n        largeStraight: undefined,\n        yahtzee: undefined,\n        chance: undefined,\n      },\n    };\n    this.roll = this.roll.bind(this);\n    this.doScore = this.doScore.bind(this);\n    this.toggleLocked = this.toggleLocked.bind(this);\n    this.ruleLocked = this.ruleLocked.bind(this);\n  }\n\n  roll(evt) {\n    // roll dice whose indexes are in reroll\n    this.setState((st) => ({\n      isRolling: true,\n    }));\n\n    setTimeout(() => {\n      this.setState((st) => ({\n        dice: st.dice.map((d, i) =>\n          st.locked[i] ? d : Math.ceil(Math.random() * 6)\n        ),\n        locked: st.rollsLeft > 1 ? st.locked : Array(NUM_DICE).fill(true),\n        rollsLeft: st.rollsLeft - 1,\n        isRolling: false,\n      }));\n    }, 1000);\n  }\n\n  toggleLocked(idx) {\n    if (this.state.rollsLeft === 0) return;\n    // toggle whether idx is in locked or not\n    this.setState((st) => ({\n      locked: [\n        ...st.locked.slice(0, idx),\n        !st.locked[idx],\n        ...st.locked.slice(idx + 1),\n      ],\n    }));\n  }\n\n  ruleLocked(idx) {\n    if (this.state.lockedRules[idx] === true) return;\n    this.setState((st) => {\n      return {\n        lockedRules: [\n          ...st.lockedRules.slice(0, idx),\n          !st.lockedRules[idx],\n          ...st.lockedRules.slice(idx + 1),\n        ],\n      };\n    });\n  }\n\n  doScore(rulename, ruleFn, idx) {\n    if (this.state.lockedRules[idx] === true) return;\n    // evaluate this ruleFn with the dice and score this rulename\n    this.setState((st) => ({\n      scores: { ...st.scores, [rulename]: ruleFn(this.state.dice) },\n      rollsLeft: NUM_ROLLS,\n      locked: Array(NUM_DICE).fill(false),\n    }));\n    this.roll();\n  }\n\n  render() {\n    return (\n      <div className=\"Game\">\n        <header className=\"Game-header\">\n          <h1 className=\"App-title\">Yahtzee!</h1>\n\n          <section className=\"Game-dice-section\">\n            <Dice\n              dice={this.state.dice}\n              locked={this.state.locked}\n              handleToggleLock={this.toggleLocked}\n              isRolling={this.state.isRolling}\n            />\n            <div className=\"Game-button-wrapper\">\n              <button\n                className=\"Game-reroll\"\n                disabled={this.state.locked.every((x) => x)}\n                onClick={this.roll}\n              >\n                {this.state.rollsLeft} Rerolls Left\n              </button>\n            </div>\n          </section>\n        </header>\n        <ScoreTable\n          doScore={this.doScore}\n          handleRuleLock={this.ruleLocked}\n          scores={this.state.scores}\n          lockedRules={this.state.lockedRules}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport Game from './Game';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}